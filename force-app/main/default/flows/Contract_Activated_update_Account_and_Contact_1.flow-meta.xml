<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <decisions>
        <name>myRule_1</name>
        <label>Activated for Contact</label>
        <locationX>248</locationX>
        <locationY>323</locationY>
        <defaultConnector>
            <targetReference>myRule_9</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>FALSE_Activated for Contact</defaultConnectorLabel>
        <rules>
            <name>TRUE_myRule_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Activated</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Agreement_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>One doctor</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>myRule_1_A1</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>TRUE_Activated for Contact</label>
        </rules>
    </decisions>
    <decisions>
        <name>myRule_9</name>
        <label>Activated for Account</label>
        <locationX>446</locationX>
        <locationY>431</locationY>
        <defaultConnectorLabel>FALSE_Activated for Account</defaultConnectorLabel>
        <rules>
            <name>TRUE_myRule_9</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Activated</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>myRule_9_A1</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>TRUE_Activated for Account</label>
        </rules>
    </decisions>
    <description>Migrated from the Contract Activated update Account and Contact process using multiple criteria.</description>
    <environments>Default</environments>
    <formulas>
        <name>formula_10_myRule_9_A1_9124531948</name>
        <dataType>String</dataType>
        <expression>IF({!$Record.Completed_W_9__c=true}, &quot;Yes&quot;, &quot;No&quot;)</expression>
    </formulas>
    <formulas>
        <name>formula_1_myRule_1_A3_0941941677</name>
        <dataType>Date</dataType>
        <expression>if (isblank({!$Record.Account.Agreement_Signed_Date__c}), {!$Record.Signed_Date__c}, {!$Record.Account.Agreement_Signed_Date__c})</expression>
    </formulas>
    <formulas>
        <name>formula_2_myRule_1_A3_7030386007</name>
        <dataType>String</dataType>
        <expression>if (ispickval({!$Record.Account.Agreement_Type_Acct__c}, &quot;Practice&quot;), &quot;Both&quot;, &quot;Individual&quot;)</expression>
    </formulas>
    <formulas>
        <name>formula_3_myRule_1_A3_1016984408</name>
        <dataType>String</dataType>
        <expression>IF ( 
AND(
ISBLANK(TEXT({!$Record.Account.HCP_Agreement__c})), 
{!$Record.Signed_Agreement__c}  = true), &quot;Signed / Returned&quot;,
IF (
AND( 
ISBLANK(TEXT({!$Record.Account.HCP_Agreement__c})), 
{!$Record.Signed_Agreement__c}  = false),  &quot;W-9 Only&quot;, &quot;&quot;))</expression>
    </formulas>
    <formulas>
        <name>formula_4_myRule_1_A2_6502507783</name>
        <dataType>String</dataType>
        <expression>{!$Record.Contact__c.FirstName&amp;&quot;} &quot;&amp;{!$Record.Contact__c.LastName} &amp;&quot; - Individual (&quot;&amp;text({!$Record.Signed_Date__c})&amp;&quot;)&quot;</expression>
    </formulas>
    <formulas>
        <name>formula_5_myRule_1_A1_5744353969</name>
        <dataType>String</dataType>
        <expression>IF({!$Record.Signed_Agreement__c} = true, &quot;Signed / Returned&quot;, &quot;W-9 Only&quot;)</expression>
    </formulas>
    <formulas>
        <name>formula_6_myRule_1_A1_5238325053</name>
        <dataType>String</dataType>
        <expression>if ({!$Record.Completed_W_9__c} = true, &quot;Yes&quot;, &quot;No&quot;)</expression>
    </formulas>
    <formulas>
        <name>formula_7_myRule_9_A4_3131740318</name>
        <dataType>String</dataType>
        <expression>LEFT({!$Record.Account.Name},55) &amp;&quot; - Practice (F) (&quot;&amp;text({!$Record.Signed_Date__c} )&amp;&quot;)&quot;</expression>
    </formulas>
    <formulas>
        <name>formula_8_myRule_9_A3_3169398074</name>
        <dataType>String</dataType>
        <expression>left({!$Record.Account.Name},55)&amp;&quot; - Practice (&quot;&amp;text({!$Record.Signed_Date__c})&amp;&quot;)&quot;</expression>
    </formulas>
    <formulas>
        <name>formula_9_myRule_9_A1_3373208541</name>
        <dataType>String</dataType>
        <expression>IF({!$Record.Signed_Agreement__c} = true, &quot;Signed / Returned&quot;, &quot;W-9 Only&quot;)</expression>
    </formulas>
    <label>Contract Activated update Account and Contact_1</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordUpdates>
        <name>myRule_1_A1</name>
        <label>Update Contact</label>
        <locationX>50</locationX>
        <locationY>431</locationY>
        <connector>
            <targetReference>myRule_1_A2</targetReference>
        </connector>
        <inputAssignments>
            <field>Agreement_Start_Date__c</field>
            <value>
                <elementReference>$Record.Signed_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Agreement_Status_Contact__c</field>
            <value>
                <elementReference>formula_5_myRule_1_A1_5744353969</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Agreement_Type_Contact__c</field>
            <value>
                <stringValue>Individual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CB_2_0_Stipend__c</field>
            <value>
                <elementReference>$Record.CB2_0_Stiped__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CT_Stipend__c</field>
            <value>
                <elementReference>$Record.CT_Stipend__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherCity</field>
            <value>
                <elementReference>$Record.ShippingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherPostalCode</field>
            <value>
                <elementReference>$Record.ShippingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherState</field>
            <value>
                <elementReference>$Record.ShippingState</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherStreet</field>
            <value>
                <elementReference>$Record.ShippingStreet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PT_2_0_Stipend__c</field>
            <value>
                <elementReference>$Record.PT_2_0_Stipend__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>W_9__c</field>
            <value>
                <elementReference>formula_6_myRule_1_A1_5238325053</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Contact__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>myRule_1_A2</name>
        <label>Update Contract</label>
        <locationX>50</locationX>
        <locationY>539</locationY>
        <connector>
            <targetReference>myRule_1_A3</targetReference>
        </connector>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>formula_4_myRule_1_A2_6502507783</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.CreatedById</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>myRule_1_A3</name>
        <label>Update Account</label>
        <locationX>50</locationX>
        <locationY>647</locationY>
        <inputAssignments>
            <field>Agreement_Signed_Date__c</field>
            <value>
                <elementReference>formula_1_myRule_1_A3_0941941677</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Agreement_Type_Acct__c</field>
            <value>
                <elementReference>formula_2_myRule_1_A3_7030386007</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>HCP_Agreement__c</field>
            <value>
                <elementReference>formula_3_myRule_1_A3_1016984408</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Account</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>myRule_9_A1</name>
        <label>Update Account</label>
        <locationX>314</locationX>
        <locationY>539</locationY>
        <connector>
            <targetReference>myRule_9_A2</targetReference>
        </connector>
        <inputAssignments>
            <field>Agreement_Signed_Date__c</field>
            <value>
                <elementReference>$Record.Signed_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Agreement_Type_Acct__c</field>
            <value>
                <stringValue>Practice</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>HCP_Agreement__c</field>
            <value>
                <elementReference>formula_9_myRule_9_A1_3373208541</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingCity</field>
            <value>
                <elementReference>$Record.ShippingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingPostalCode</field>
            <value>
                <elementReference>$Record.ShippingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingState</field>
            <value>
                <elementReference>$Record.ShippingState</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingStreet</field>
            <value>
                <elementReference>$Record.ShippingStreet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>W_9_Practice__c</field>
            <value>
                <elementReference>formula_10_myRule_9_A1_9124531948</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Account</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>myRule_9_A3</name>
        <label>Update Contract for Practice</label>
        <locationX>314</locationX>
        <locationY>755</locationY>
        <connector>
            <targetReference>myRule_9_A4</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Agreement_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Entire practice</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>formula_8_myRule_9_A3_3169398074</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.CreatedById</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>myRule_9_A4</name>
        <label>Update Contract for Practice (F)</label>
        <locationX>314</locationX>
        <locationY>863</locationY>
        <connector>
            <targetReference>myRule_9_A5</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Agreement_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Practice including future doctors</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>formula_7_myRule_9_A4_3131740318</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.CreatedById</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>myRule_9_A5</name>
        <label>Update Primary Contact</label>
        <locationX>314</locationX>
        <locationY>971</locationY>
        <inputAssignments>
            <field>Primary_Contact__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.Contact__r</inputReference>
    </recordUpdates>
    <start>
        <locationX>122</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>myRule_1</targetReference>
        </connector>
        <object>Contract</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>myRule_9_A2</name>
        <label>Update Contacts</label>
        <locationX>314</locationX>
        <locationY>647</locationY>
        <connector>
            <targetReference>myRule_9_A3</targetReference>
        </connector>
        <flowName>Contacts_Update_for_Account_Practice_HCP_Agreement</flowName>
        <inputAssignments>
            <name>varSignedDate</name>
            <value>
                <elementReference>$Record.Signed_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varAccountID</name>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varPTStipend</name>
            <value>
                <elementReference>$Record.PT_2_0_Stipend__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varAgreement</name>
            <value>
                <elementReference>$Record.Signed_Agreement__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varCB20Stipend</name>
            <value>
                <elementReference>$Record.CB2_0_Stiped__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varCTStipend</name>
            <value>
                <elementReference>$Record.CT_Stipend__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
</Flow>
